(()=>{var e={};e.id=659,e.ids=[659],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4902:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(6037),a=r.n(n);let s=new(a()).Schema({serviceType:{type:String,required:!0,enum:["general-cleaning","end-of-lease-cleaning","office-cleaning","deep-cleaning","regular-cleaning","construction-cleaning","commercial-cleaning","carpet-cleaning","apartment-cleaning","restaurant-cleaning"]},location:{type:String,required:!0},phone:{type:String,required:!0,match:/^[0-9]{10}$/},email:{type:String,match:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/},bedrooms:{type:Number,min:1},bathrooms:{type:Number,min:1},date:{type:Date,required:!0},time:{type:String},status:{type:String,enum:["pending","done"],default:"pending"},adminNote:{type:String,default:""}}),o=a().models.CleaningForm||a().model("CleaningForm",s)},5234:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(6037),a=r.n(n);let s=async()=>{if(a().connections[0].readyState){console.log("Already connected to mongoDB.");return}try{await a().connect(process.env.MONGODB_URI,{useNewUrlParser:!0,useUnifiedTopology:!0}),console.log("Successfully connected to MongoDB.")}catch(e){console.error("Failed to connect to MongoDB:",e)}}},6037:e=>{"use strict";e.exports=require("mongoose")},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9996:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>x,routeModule:()=>d,serverHooks:()=>y,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>m});var n={};r.r(n),r.d(n,{GET:()=>p,POST:()=>l});var a=r(2706),s=r(8203),o=r(5994),i=r(9187),c=r(4902),u=r(5234);async function p(){try{await (0,u.A)();let e=await c.A.find();return i.NextResponse.json({data:e},{status:200})}catch(e){return i.NextResponse.json({error:"Error fetching the cleaning booking."},{status:500})}}async function l(e){try{await (0,u.A)();let t=await e.json(),r=c.A.create(t);return i.NextResponse.json({message:"New cleaning booking data created successfully.",data:r},{status:201})}catch(e){return i.NextResponse.json({error:"Error sending the data to database"},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/cleaning/route",pathname:"/api/cleaning",filename:"route",bundlePath:"app/api/cleaning/route"},resolvedPagePath:"/home/shashank/Documents/GitHub/Project/WipeOut-Services/app/api/cleaning/route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:g,workUnitAsyncStorage:m,serverHooks:y}=d;function x(){return(0,o.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:m})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[638,452],()=>r(9996));module.exports=n})();